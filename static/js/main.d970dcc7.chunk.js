(this["webpackJsonpimage-catalog"]=this["webpackJsonpimage-catalog"]||[]).push([[0],{41:function(t,e,n){},61:function(t,e,n){},62:function(t,e,n){},63:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n(0),c=n.n(r),i=n(9),u=n.n(i),s=n(4),o=n(7),g=n(8),j=(n(41),n(14)),m=n.n(j),l=n(25),b=n(3),O=n(26),p=n.n(O),d=function(t){return p.a.get("https://api.giphy.com/v1/gifs/random?api_key=gTJAO48YcpmrADUyo4opy4ES4g7iDBxx&tag=".concat(t))},f="SET_IMAGE",h="CLEAR_PAGE",x="TOGGLE_IS_LOADING",T="CHANGE_RESPONSE_ERROR",_="SET_TAGS",v="SET_INPUT_TEXT",S={images:[],tags:[],isLoading:!1,isImageUrl:!0,errorText:"",inputText:""},y=function(t,e){return{type:f,tag:t,imageUrl:e}},E=function(t){return{type:x,isLoading:t}},N=function(t){return{type:T,errorText:t}},U=function(t){return{type:v,inputText:t}},k=function(t){return function(){var e=Object(l.a)(m.a.mark((function e(n){var a,r,c,i,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(E(!0)),a=t.map((function(t){return d(t)})),e.next=4,Promise.all(a);case 4:r=e.sent,c=[],i=!1,r.forEach((function(t){200!==t.status?i=!0:t.data.data.image_url&&c.push(t.data.data.image_url)})),i?n(N("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 http \u043e\u0448\u0438\u0431\u043a\u0430")):r.length!==c.length?n(N("\u041f\u043e \u0442\u0435\u0433\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e")):(u=t.join(","),n(y(u,c)),n(N("")),n({type:_})),n(E(!1));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case f:return Object(b.a)(Object(b.a)({},t),{},{images:[].concat(Object(o.a)(t.images),[{imageTag:e.tag,imageUrl:e.imageUrl}])});case _:return Object(b.a)(Object(b.a)({},t),{},{tags:Object(o.a)(t.images.map((function(t){return t.imageTag})))});case h:return Object(b.a)(Object(b.a)({},t),{},{images:[],tags:[]});case x:return Object(b.a)(Object(b.a)({},t),{},{isLoading:e.isLoading});case T:return Object(b.a)(Object(b.a)({},t),{},{errorText:e.errorText});case v:return Object(b.a)(Object(b.a)({},t),{},{inputText:e.inputText});default:return t}},A=(n(61),function(t){var e=t.imageTag,n=t.imageUrl,r=t.randomString,c=Object(s.b)();return Object(a.jsx)("button",{type:"button",className:"img_block",onClick:function(){c(U(e))},children:n&&n.map((function(t){return Object(a.jsx)("img",{src:t,alt:""},t+r)}))})}),I=(n(62),function(t){var e=t.groupTag,n=t.images,r=t.randomString;return Object(a.jsxs)("div",{className:"group",children:[Object(a.jsx)("h2",{className:"group__title",children:e}),Object(a.jsx)("div",{className:"group__images",children:n.map((function(t){return t.imageTag===e?Object(a.jsx)(A,{imageUrl:t.imageUrl,imageTag:t.imageTag,randomString:r},t.imageUrl[0]+r):""}))})]})});var L=function(){var t=Object(s.b)(),e=Object(r.useState)(!1),n=Object(g.a)(e,2),c=n[0],i=n[1],u=Object(r.useState)(1),j=Object(g.a)(u,2),m=j[0],l=j[1],b=Object(r.useState)(!1),O=Object(g.a)(b,2),p=O[0],d=O[1],f=Object(r.useState)(!1),x=Object(g.a)(f,2),T=x[0],_=x[1],v=Object(s.c)((function(t){return t.images.inputText})),S=Object(s.c)((function(t){return t.images.isLoading})),y=Object(s.c)((function(t){return t.images.errorText})),E=Object(s.c)((function(t){return t.images.images})),w=Object(s.c)((function(t){return t.images.tags})),L=new Set(w),C=Object(o.a)(L),G=function(){for(var t="abcdefghijklmnopqrstuvwxyz",e=Math.floor(1+10*Math.random()),n="",a=0;a<e;a+=1)n+=t.charAt(Math.floor(Math.random()*t.length));return n},M=function(){t(U("")),t({type:h})},R=/^[A-Za-z,]+$/;return Object(a.jsxs)("div",{className:"app-wrapper",children:[Object(a.jsxs)("div",{className:"menu",children:[Object(a.jsx)("input",{className:"menu__input",onChange:function(e){return function(e){R.test(String(e.target.value))?d(!1):d(!0),_(!1),t(U(e.target.value)),t(N(""))}(e)},value:v}),Object(a.jsx)("button",{type:"button",disabled:p&&!!v||S||T&&"delay"===v,onClick:function(){return function(){if(v)if("delay"===v){_(!0);var e=setInterval((function(){var n=[];n.push(G()),t(k(n)),l(e)}),5e3)}else{clearInterval(m),_(!1);var n=v.split(",");n.includes("")?t(N("\u041f\u043e \u0442\u0435\u0433\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e")):t(k(n))}else t(N("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u0442\u0435\u0433"))}()},children:S?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430":"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"}),Object(a.jsx)("button",{type:"button",onClick:function(){return M()},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}),Object(a.jsx)("button",{type:"button",onClick:function(){i(!c)},children:c?"\u0420\u0430\u0437\u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0413\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(a.jsx)("div",{className:"menu__error-message",children:y&&Object(a.jsx)("span",{children:y})})]}),c?C.map((function(t){return Object(a.jsx)(I,{groupTag:t,images:E,randomString:G()},t+G())})):Object(a.jsx)("div",{className:"group__images",children:E.map((function(t){return Object(a.jsx)(A,{imageUrl:t.imageUrl,imageTag:t.imageTag,randomString:G()},t.imageUrl[0]+G())}))})]})},C=n(5),G=n(27),M=Object(C.c)({images:w}),R=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||C.d,D=Object(C.e)(M,R(Object(C.a)(G.a)));u.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(s.a,{store:D,children:Object(a.jsx)(L,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.d970dcc7.chunk.js.map